# Enhance Search Buddy 安装与使用指南

## 🚀 安装指南

### 1. 准备工作
确保您有以下文件结构：
```
enhance-search-buddy/
├── manifest.json
├── debug.html
├── test.html
├── INSTALL.md
├── PROJECT_SUMMARY.md (本文档)
└── src/
    ├── background/
    │   └── index.js
    ├── content/
    │   └── index.js
    ├── popup/
    │   ├── index.html
    │   ├── main.js
    │   └── style.css
    ├── settings/
    │   ├── index.html
    │   ├── main.js
    │   └── style.css
    └── utils/
        ├── storage.js
        └── textProcessor.js
```

### 2. 加载扩展到 Edge 浏览器

1.  **打开扩展管理页面**
    - 在地址栏输入：`edge://extensions/`
    - 或者：菜单 → 扩展

2.  **启用开发者模式**
    - 在页面右上角找到"开发人员模式"开关
    - 点击开启

3.  **加载扩展**
    - 点击"加载解压缩的扩展"按钮
    - 选择项目根目录：`d:\Users\Jliu Pureey\Downloads\gitmine\enhance-search-buddy`
    - 点击"选择文件夹"

### 3. 验证安装

安装成功后，您应该看到：
- ✅ 扩展出现在扩展列表中
- ✅ 浏览器工具栏出现扩展图标
- ✅ 没有错误提示

## 🧪 功能测试

### 测试方法 1：使用调试页面
1.  打开 `debug.html` 文件
2.  按照页面指引进行测试
3.  查看控制台输出

### 测试方法 2：手动测试
1.  **测试弹窗**：点击扩展图标
2.  **测试快捷键**：按 `Alt+L`
3.  **测试侧边栏**：右键扩展图标 → "在侧边栏中打开"

### 测试方法 3：使用测试数据
打开 `test.html` 页面，复制测试数据到扩展中测试各项功能。

## 📝 使用说明

### 启动方式

-   **悬浮窗**: 在任何网页上按 `Alt+L`。再次按 `Alt+L` 或点击窗口内的 `×` 按钮关闭。
-   **弹窗**: 点击浏览器工具栏上的扩展图标。
-   **侧边栏**: 右键点击浏览器工具栏上的扩展图标，然后选择 "在侧边栏中打开"。

### 主要功能与操作

请参阅 accompany 的 `PROJECT_SUMMARY.md` 文件，其中详细描述了所有功能、开关、处理逻辑和使用流程。

**核心功能回顾**:

1.  **智能搜索**: 在搜索框输入内容，按回车或点击“搜索”按钮。输入 URL 会直接跳转。
2.  **三个核心开关**:
    *   **Switch 1 (提取和拆解)**: 处理路径、提取链接、清洗文本、拆分文本。
    *   **Switch 2 (生成链接)**: 处理代码仓库名称或链接，生成多平台链接。
    *   **Switch 3 (多格式分析)**: 同时分析文本中的多种格式（路径、链接、仓库、邮箱等）。
3.  **剪贴板监听**: 点击界面中的剪贴板按钮 (📋) 或在设置页开启，可自动将剪贴板内容填入搜索框并处理。
4.  **设置管理**: 通过界面上的齿轮图标 (⚙️) 进入设置页面，可以管理搜索引擎、历史记录、导入导出配置等。

## 🔧 故障排除

### 常见问题

#### 1. 扩展无法加载
**症状**：点击"加载解压缩的扩展"后出现错误
**解决方案**：
- 检查 `manifest.json` 语法是否正确
- 确保所有文件都存在
- 查看错误详情并修复

#### 2. 弹窗空白或无响应
**症状**：点击扩展图标后弹窗空白
**解决方案**：
- 右键扩展图标 → "检查弹出内容"
- 查看控制台错误信息
- 检查 JavaScript 语法错误

#### 3. 快捷键不工作
**症状**：按 `Alt+L` 没有反应
**解决方案**：
- 检查是否与其他扩展冲突
- 在扩展详情页面检查快捷键设置
- 尝试重新加载扩展

#### 4. 剪贴板功能不工作
**症状**：剪贴板监听功能无效
**解决方案**：
- 确保浏览器版本支持剪贴板 API
- 检查是否授予了剪贴板权限
- 在 HTTPS 页面测试（某些 API 需要安全上下文）

### 调试技巧

1.  **查看扩展详情**
    - 在 `edge://extensions/` 页面点击扩展的"详细信息"
    - 查看权限和错误信息

2.  **使用开发者工具**
    - 右键扩展图标 → "检查弹出内容"
    - 查看 Console 标签页的错误信息

3.  **重新加载扩展**
    - 修改代码后，点击扩展卡片上的"重新加载"按钮

## 📝 测试清单

使用以下清单确保所有功能正常：

- [ ] 扩展成功加载，无错误提示
- [ ] 点击扩展图标可以打开弹窗
- [ ] 弹窗界面显示正常，所有元素可见
- [ ] 按 `Alt+L` 可以打开悬浮窗
- [ ] 悬浮窗可以通过再次按 `Alt+L` 或点击关闭按钮关闭
- [ ] 侧边栏功能正常工作
- [ ] 搜索功能正常（输入内容后按回车或点击搜索按钮）
- [ ] 设置页面可以正常打开和使用
- [ ] 路径转换功能正常工作
- [ ] 文本拆分功能正常工作
- [ ] 链接生成功能正常工作
- [ ] 多格式分析功能正常工作
- [ ] 剪贴板监听功能正常工作（如果支持）
- [ ] 复制功能正常工作
- [ ] 通知提示正常显示

## 🎯 使用技巧

1.  **快速搜索**：直接输入关键词按回车
2.  **URL 跳转**：输入完整 URL 会直接打开
3.  **路径处理**：输入 Windows 路径自动转换多种格式
4.  **仓库链接**：输入 `用户名/仓库名` 生成多平台链接
5.  **剪贴板监听**：开启后自动检测剪贴板变化
6.  **批量处理**：使用文本拆分功能处理大量数据

## 📞 获取帮助

如果遇到问题：
1.  查看 `debug.html` 页面的诊断信息
2.  检查浏览器控制台的错误信息
3.  确认所有文件完整且语法正确
4.  尝试重新加载扩展

---

**版本**：v1.0.0 (升级版)
**更新时间**：2024年
**兼容性**：Microsoft Edge (Chromium) 88+